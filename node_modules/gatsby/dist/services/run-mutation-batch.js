"use strict";

exports.__esModule = true;
exports.runMutationBatch = void 0;

var _assertStore = require("../utils/assert-store");

var _actions = require("../redux/actions");

const callRealApi = (event, store) => {
  (0, _assertStore.assertStore)(store);
  const {
    type,
    payload
  } = event;

  if (type in _actions.actions) {
    store.dispatch(_actions.actions[type](...payload));
  }
}; // Consume the entire batch and run actions


const runMutationBatch = async ({
  runningBatch = [],
  store
}) => Promise.all(runningBatch.map(payload => callRealApi(payload, store)));

exports.runMutationBatch = runMutationBatch;
//# sourceMappingURL=run-mutation-batch.js.map